// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model SurveyResponse {
  id                        String   @id @default(uuid())
  department                String
  awareness                 String   // JSON stored as string for SQLite
  urgentTrainings          String   // JSON array stored as string
  urgentTrainingsOther     String?
  financeWellnessNeeds     String   // JSON array stored as string
  cultureWellnessNeeds     String   // JSON array stored as string
  cultureWellnessOther     String?
  digitalSkillsNeeds       String   // JSON array stored as string
  digitalSkillsOther       String?
  professionalDevNeeds      String   // JSON array stored as string
  professionalDevOther      String?
  confidenceLevel           String
  facedUnsureSituation      Boolean
  unsureSituationDescription String?
  observedIssues            String   // JSON array stored as string
  observedIssuesOther        String?
  knewReportingChannel       String
  trainingMethod             String
  trainingMethodOther        String?
  refresherFrequency         String
  prioritizedPolicies        String
  prioritizationReason       String
  policyChallenges           String
  complianceSuggestions      String
  generalComments            String
  createdAt                  DateTime @default(now()) @map("timestamp")

  @@map("survey_responses")
}

model SurveyConfig {
  id                String   @id @default(uuid())
  isActive          Boolean  @default(true)
  startDate         DateTime
  endDate           DateTime
  title             String   @default("Policy Awareness Survey")
  description       String?
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@map("survey_config")
}
